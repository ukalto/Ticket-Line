<app-headline [icon]="'person_outline'" [text]="'Login'" [centered]="true"></app-headline>
<form [formGroup]="loginForm">
  <mat-form-field>
    <mat-label>Email</mat-label>
    <mat-icon matPrefix class="mat-form-field-prefix">email</mat-icon>
    <input type="email" matInput formControlName="email" placeholder="max.musterman@gmail.com">
    <mat-error *ngIf="loginForm.controls.email.hasError('required')">
      Your email is required!
    </mat-error>
    <mat-error *ngIf="loginForm.controls.email.hasError('email')">
      Please enter a valid email address!
    </mat-error>
  </mat-form-field>
  <mat-form-field>
    <mat-label>Password</mat-label>
    <mat-icon matPrefix class="mat-form-field-prefix">lock</mat-icon>
    <input matInput formControlName="password" [type]="hide ? 'password' : 'text'">
    <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
    <mat-error *ngIf="loginForm.controls.password.hasError('required')">
      Your password is required!
    </mat-error>
    <mat-error *ngIf="loginForm.controls.password.hasError('minlength')">
      Your password must be at least 8 characters long!
    </mat-error>
  </mat-form-field>
  <div class="center-button">
    <button type="submit" mat-flat-button color="primary" (click)="loginUser()">Login</button>
  </div>
  <mat-divider></mat-divider>
  <div class="button-group">
    <button
      type="button"
      mat-flat-button
      color="accent"
      (click)="triggerPasswordReset()"
      [disabled]="loginForm.controls.email.hasError('required') || loginForm.controls.email.hasError('email')">Reset Password</button>
    <button type="button" mat-flat-button class="yellow-button" routerLink="/register">Create Account</button>
  </div>
</form>
